@if (userService.currentUser$ | async) {
	<span class="header">
		<h2>Add Listing</h2>
	</span>

	<form class="create-post" [formGroup]="createListingForm" (ngSubmit)="onSubmit()">
		<span class="input-form">
			<span class="category-group">
				<h3>Crop Details</h3>
				<span class="details">
					<app-drop-down
						id="crop"
						placeholder="Select Crop"
						[options]="DROP_DOWN_VALUE"
						formControlName="crop">
					</app-drop-down>

					<input placeholder="Description"
								 class="basic-input" id="description" formControlName="description" type="text">
				</span>
			</span>

			<span class="category-group">
				<h3>Pricing & Quantity</h3>

				<span class="details">
					<span class="price-unit">
						<input placeholder="Price" class="basic-input" id="price" formControlName="price" type="number">
						<span class="drop">
							<app-drop-down
								id="unit"
								placeholder="/ Unit"
								[options]="[
									{id: 1, name:'Kg'},
									{id: 2, name:'Packet'},
									{id: 3, name:'Unit'},
									{id: 4, name:'Box'}
								]"
								formControlName="crop">
							</app-drop-down>
						</span>
					</span>

					<input placeholder="Quantity" class="basic-input" id="quantity" formControlName="quantity" type="number">
				</span>
			</span>

			<span class="category-group">
				<h3>Seller Info</h3>

				<span class="details">
					<input placeholder="Farmer Name" class="basic-input" id="farmer-name" formControlName="farmername" type="text" readonly>
					<input placeholder="Contact Info" class="basic-input" id="phone" formControlName="phone" type="tel" readonly>
					<input placeholder="Region" class="basic-input" id="region" formControlName="region" type="text" readonly>
				</span>
			</span>

			<span class="category-group">
				<span class="details">
					<span class="drop-container">
						<span class="upload-text">
							<span class="head">Upload Images</span>
							<span>Add up to 3 images of your item</span>
						</span>
						<label for="images" class="custom-file-upload">
							Upload
							<input #imageInput id="images" formControlName="images" type="file" accept="image/jpeg"
										 (change)="processImage(imageInput)">
						</label>
							@if (uploadProgress > 0) {
								<p>Upload Progress: {{ uploadProgress | number: '1.0-0' }}%</p>
							}
					</span>
				</span>
			</span>

			<span class="sign-up-button">
				<button type="submit">Add Crop</button>
			</span>

		</span>
	</form>
}

@if (!(userService.currentUser$ | async)) {
	<app-login></app-login>
}
